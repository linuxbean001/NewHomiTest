{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"D:\\\\react project\\\\homiApp\\\\homi\\\\node_modules\\\\react-native-chart-kit\\\\src\\\\line-chart\\\\line-chart.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Svg, Circle, Polygon, Polyline, Path, Rect, G } from \"react-native-svg\";\nimport AbstractChart from \"../abstract-chart\";\nimport { LegendItem } from \"./legend-item\";\n\nvar LineChart = function (_AbstractChart) {\n  _inherits(LineChart, _AbstractChart);\n\n  function LineChart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LineChart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LineChart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.getColor = function (dataset, opacity) {\n      return (dataset.color || _this.props.chartConfig.color)(opacity);\n    };\n\n    _this.getStrokeWidth = function (dataset) {\n      return dataset.strokeWidth || _this.props.chartConfig.strokeWidth || 3;\n    };\n\n    _this.getDatas = function (data) {\n      return data.reduce(function (acc, item) {\n        return item.data ? [].concat(_toConsumableArray(acc), _toConsumableArray(item.data)) : acc;\n      }, []);\n    };\n\n    _this.getPropsForDots = function (x, i) {\n      var _this$props = _this.props,\n          getDotProps = _this$props.getDotProps,\n          _this$props$chartConf = _this$props.chartConfig,\n          chartConfig = _this$props$chartConf === void 0 ? {} : _this$props$chartConf;\n\n      if (typeof getDotProps === \"function\") {\n        return getDotProps(x, i);\n      }\n\n      var _chartConfig$propsFor = chartConfig.propsForDots,\n          propsForDots = _chartConfig$propsFor === void 0 ? {} : _chartConfig$propsFor;\n      return _objectSpread({\n        r: \"4\"\n      }, propsForDots);\n    };\n\n    _this.renderDots = function (config) {\n      var data = config.data,\n          width = config.width,\n          height = config.height,\n          paddingTop = config.paddingTop,\n          paddingRight = config.paddingRight,\n          onDataPointClick = config.onDataPointClick;\n      var output = [];\n\n      var datas = _this.getDatas(data);\n\n      var baseHeight = _this.calcBaseHeight(datas, height);\n\n      var _this$props2 = _this.props,\n          getDotColor = _this$props2.getDotColor,\n          _this$props2$hidePoin = _this$props2.hidePointsAtIndex,\n          hidePointsAtIndex = _this$props2$hidePoin === void 0 ? [] : _this$props2$hidePoin,\n          _this$props2$renderDo = _this$props2.renderDotContent,\n          renderDotContent = _this$props2$renderDo === void 0 ? function () {\n        return null;\n      } : _this$props2$renderDo;\n      data.forEach(function (dataset) {\n        dataset.data.forEach(function (x, i) {\n          if (hidePointsAtIndex.includes(i)) {\n            return;\n          }\n\n          var cx = paddingRight + i * (width - paddingRight) / dataset.data.length;\n          var cy = (baseHeight - _this.calcHeight(x, datas, height)) / 4 * 3 + paddingTop;\n\n          var onPress = function onPress() {\n            if (!onDataPointClick || hidePointsAtIndex.includes(i)) {\n              return;\n            }\n\n            onDataPointClick({\n              index: i,\n              value: x,\n              dataset: dataset,\n              x: cx,\n              y: cy,\n              getColor: function getColor(opacity) {\n                return _this.getColor(dataset, opacity);\n              }\n            });\n          };\n\n          output.push(React.createElement(Circle, _extends({\n            key: Math.random(),\n            cx: cx,\n            cy: cy,\n            fill: typeof getDotColor === \"function\" ? getDotColor(x, i) : _this.getColor(dataset, 0.9),\n            onPress: onPress\n          }, _this.getPropsForDots(x, i), {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            }\n          })), React.createElement(Circle, {\n            key: Math.random(),\n            cx: cx,\n            cy: cy,\n            r: \"14\",\n            fill: \"#fff\",\n            fillOpacity: 0,\n            onPress: onPress,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            }\n          }), renderDotContent({\n            x: cx,\n            y: cy,\n            index: i\n          }));\n        });\n      });\n      return output;\n    };\n\n    _this.renderShadow = function (config) {\n      if (_this.props.bezier) {\n        return _this.renderBezierShadow(config);\n      }\n\n      var data = config.data,\n          width = config.width,\n          height = config.height,\n          paddingRight = config.paddingRight,\n          paddingTop = config.paddingTop;\n\n      var datas = _this.getDatas(data);\n\n      var baseHeight = _this.calcBaseHeight(datas, height);\n\n      return config.data.map(function (dataset, index) {\n        return React.createElement(Polygon, {\n          key: index,\n          points: dataset.data.map(function (d, i) {\n            var x = paddingRight + i * (width - paddingRight) / dataset.data.length;\n            var y = (baseHeight - _this.calcHeight(d, datas, height)) / 4 * 3 + paddingTop;\n            return x + \",\" + y;\n          }).join(\" \") + (\" \" + (paddingRight + (width - paddingRight) / dataset.data.length * (dataset.data.length - 1)) + \",\" + (height / 4 * 3 + paddingTop) + \" \" + paddingRight + \",\" + (height / 4 * 3 + paddingTop)),\n          fill: \"url(#fillShadowGradient)\",\n          strokeWidth: 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          }\n        });\n      });\n    };\n\n    _this.renderLine = function (config) {\n      if (_this.props.bezier) {\n        return _this.renderBezierLine(config);\n      }\n\n      var width = config.width,\n          height = config.height,\n          paddingRight = config.paddingRight,\n          paddingTop = config.paddingTop,\n          data = config.data;\n      var output = [];\n\n      var datas = _this.getDatas(data);\n\n      var baseHeight = _this.calcBaseHeight(datas, height);\n\n      data.forEach(function (dataset, index) {\n        var points = dataset.data.map(function (d, i) {\n          var x = i * (width - paddingRight) / dataset.data.length + paddingRight;\n          var y = (baseHeight - _this.calcHeight(d, datas, height)) / 4 * 3 + paddingTop;\n          return x + \",\" + y;\n        });\n        output.push(React.createElement(Polyline, {\n          key: index,\n          points: points.join(\" \"),\n          fill: \"none\",\n          stroke: _this.getColor(dataset, 0.2),\n          strokeWidth: _this.getStrokeWidth(dataset),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          }\n        }));\n      });\n      return output;\n    };\n\n    _this.getBezierLinePoints = function (dataset, config) {\n      var width = config.width,\n          height = config.height,\n          paddingRight = config.paddingRight,\n          paddingTop = config.paddingTop,\n          data = config.data;\n\n      if (dataset.data.length === 0) {\n        return \"M0,0\";\n      }\n\n      var datas = _this.getDatas(data);\n\n      var x = function x(i) {\n        return Math.floor(paddingRight + i * (width - paddingRight) / dataset.data.length);\n      };\n\n      var baseHeight = _this.calcBaseHeight(datas, height);\n\n      var y = function y(i) {\n        var yHeight = _this.calcHeight(dataset.data[i], datas, height);\n\n        return Math.floor((baseHeight - yHeight) / 4 * 3 + paddingTop);\n      };\n\n      return [\"M\" + x(0) + \",\" + y(0)].concat(dataset.data.slice(0, -1).map(function (_, i) {\n        var x_mid = (x(i) + x(i + 1)) / 2;\n        var y_mid = (y(i) + y(i + 1)) / 2;\n        var cp_x1 = (x_mid + x(i)) / 2;\n        var cp_x2 = (x_mid + x(i + 1)) / 2;\n        return \"Q \" + cp_x1 + \", \" + y(i) + \", \" + x_mid + \", \" + y_mid + (\" Q \" + cp_x2 + \", \" + y(i + 1) + \", \" + x(i + 1) + \", \" + y(i + 1));\n      })).join(\" \");\n    };\n\n    _this.renderBezierLine = function (config) {\n      return config.data.map(function (dataset, index) {\n        var result = _this.getBezierLinePoints(dataset, config);\n\n        return React.createElement(Path, {\n          key: index,\n          d: result,\n          fill: \"none\",\n          stroke: _this.getColor(dataset, 0.2),\n          strokeWidth: _this.getStrokeWidth(dataset),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          }\n        });\n      });\n    };\n\n    _this.renderBezierShadow = function (config) {\n      var width = config.width,\n          height = config.height,\n          paddingRight = config.paddingRight,\n          paddingTop = config.paddingTop,\n          data = config.data;\n      return data.map(function (dataset, index) {\n        var d = _this.getBezierLinePoints(dataset, config) + (\" L\" + (paddingRight + (width - paddingRight) / dataset.data.length * (dataset.data.length - 1)) + \",\" + (height / 4 * 3 + paddingTop) + \" L\" + paddingRight + \",\" + (height / 4 * 3 + paddingTop) + \" Z\");\n        return React.createElement(Path, {\n          key: index,\n          d: d,\n          fill: \"url(#fillShadowGradient)\",\n          strokeWidth: 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          }\n        });\n      });\n    };\n\n    _this.renderLegend = function (width, legendOffset) {\n      var _this$props$data = _this.props.data,\n          legend = _this$props$data.legend,\n          datasets = _this$props$data.datasets;\n      var baseLegendItemX = width / (legend.length + 1);\n      return legend.map(function (legendItem, i) {\n        return React.createElement(G, {\n          key: Math.random(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          }\n        }, React.createElement(LegendItem, {\n          index: i,\n          iconColor: _this.getColor(datasets[i], 0.9),\n          baseLegendItemX: baseLegendItemX,\n          legendText: legendItem,\n          labelProps: _objectSpread({}, _this.getPropsForLabels()),\n          legendOffset: legendOffset,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          }\n        }));\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(LineChart, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          width = _this$props3.width,\n          height = _this$props3.height,\n          data = _this$props3.data,\n          _this$props3$withShad = _this$props3.withShadow,\n          withShadow = _this$props3$withShad === void 0 ? true : _this$props3$withShad,\n          _this$props3$withDots = _this$props3.withDots,\n          withDots = _this$props3$withDots === void 0 ? true : _this$props3$withDots,\n          _this$props3$withInne = _this$props3.withInnerLines,\n          withInnerLines = _this$props3$withInne === void 0 ? true : _this$props3$withInne,\n          _this$props3$withOute = _this$props3.withOuterLines,\n          withOuterLines = _this$props3$withOute === void 0 ? true : _this$props3$withOute,\n          _this$props3$withHori = _this$props3.withHorizontalLabels,\n          withHorizontalLabels = _this$props3$withHori === void 0 ? true : _this$props3$withHori,\n          _this$props3$withVert = _this$props3.withVerticalLabels,\n          withVerticalLabels = _this$props3$withVert === void 0 ? true : _this$props3$withVert,\n          _this$props3$style = _this$props3.style,\n          style = _this$props3$style === void 0 ? {} : _this$props3$style,\n          decorator = _this$props3.decorator,\n          onDataPointClick = _this$props3.onDataPointClick,\n          _this$props3$vertical = _this$props3.verticalLabelRotation,\n          verticalLabelRotation = _this$props3$vertical === void 0 ? 0 : _this$props3$vertical,\n          _this$props3$horizont = _this$props3.horizontalLabelRotation,\n          horizontalLabelRotation = _this$props3$horizont === void 0 ? 0 : _this$props3$horizont,\n          _this$props3$formatYL = _this$props3.formatYLabel,\n          formatYLabel = _this$props3$formatYL === void 0 ? function (yLabel) {\n        return yLabel;\n      } : _this$props3$formatYL,\n          _this$props3$formatXL = _this$props3.formatXLabel,\n          formatXLabel = _this$props3$formatXL === void 0 ? function (xLabel) {\n        return xLabel;\n      } : _this$props3$formatXL,\n          segments = _this$props3.segments;\n      var _data$labels = data.labels,\n          labels = _data$labels === void 0 ? [] : _data$labels;\n      var _style$borderRadius = style.borderRadius,\n          borderRadius = _style$borderRadius === void 0 ? 0 : _style$borderRadius,\n          _style$paddingTop = style.paddingTop,\n          paddingTop = _style$paddingTop === void 0 ? 16 : _style$paddingTop,\n          _style$paddingRight = style.paddingRight,\n          paddingRight = _style$paddingRight === void 0 ? 64 : _style$paddingRight,\n          _style$margin = style.margin,\n          margin = _style$margin === void 0 ? 0 : _style$margin,\n          _style$marginRight = style.marginRight,\n          marginRight = _style$marginRight === void 0 ? 0 : _style$marginRight,\n          _style$paddingBottom = style.paddingBottom,\n          paddingBottom = _style$paddingBottom === void 0 ? 0 : _style$paddingBottom;\n      var config = {\n        width: width,\n        height: height,\n        verticalLabelRotation: verticalLabelRotation,\n        horizontalLabelRotation: horizontalLabelRotation\n      };\n      var datas = this.getDatas(data.datasets);\n      var count = Math.min.apply(Math, _toConsumableArray(datas)) === Math.max.apply(Math, _toConsumableArray(datas)) ? 1 : 4;\n\n      if (segments) {\n        count = segments;\n      }\n\n      var legendOffset = this.props.data.legend ? height * 0.15 : 0;\n      return React.createElement(View, {\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        }\n      }, React.createElement(Svg, {\n        height: height + paddingBottom + legendOffset,\n        width: width - margin * 2 - marginRight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        }\n      }, React.createElement(Rect, {\n        width: \"100%\",\n        height: height + legendOffset,\n        rx: borderRadius,\n        ry: borderRadius,\n        fill: \"url(#backgroundGradient)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        }\n      }), this.props.data.legend && this.renderLegend(config.width, legendOffset), React.createElement(G, {\n        x: \"0\",\n        y: legendOffset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        }\n      }, this.renderDefs(_objectSpread({}, config, {}, this.props.chartConfig)), React.createElement(G, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        }\n      }, withInnerLines ? this.renderHorizontalLines(_objectSpread({}, config, {\n        count: count,\n        paddingTop: paddingTop,\n        paddingRight: paddingRight\n      })) : withOuterLines ? this.renderHorizontalLine(_objectSpread({}, config, {\n        paddingTop: paddingTop,\n        paddingRight: paddingRight\n      })) : null), React.createElement(G, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        }\n      }, withHorizontalLabels ? this.renderHorizontalLabels(_objectSpread({}, config, {\n        count: count,\n        data: datas,\n        paddingTop: paddingTop,\n        paddingRight: paddingRight,\n        formatYLabel: formatYLabel,\n        decimalPlaces: this.props.chartConfig.decimalPlaces\n      })) : null), React.createElement(G, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        }\n      }, withInnerLines ? this.renderVerticalLines(_objectSpread({}, config, {\n        data: data.datasets[0].data,\n        paddingTop: paddingTop,\n        paddingRight: paddingRight\n      })) : withOuterLines ? this.renderVerticalLine(_objectSpread({}, config, {\n        paddingTop: paddingTop,\n        paddingRight: paddingRight\n      })) : null), React.createElement(G, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        }\n      }, withVerticalLabels ? this.renderVerticalLabels(_objectSpread({}, config, {\n        labels: labels,\n        paddingRight: paddingRight,\n        paddingTop: paddingTop,\n        formatXLabel: formatXLabel\n      })) : null), React.createElement(G, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        }\n      }, this.renderLine(_objectSpread({}, config, {\n        paddingRight: paddingRight,\n        paddingTop: paddingTop,\n        data: data.datasets\n      }))), React.createElement(G, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        }\n      }, withShadow && this.renderShadow(_objectSpread({}, config, {\n        data: data.datasets,\n        paddingRight: paddingRight,\n        paddingTop: paddingTop\n      }))), React.createElement(G, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        }\n      }, withDots && this.renderDots(_objectSpread({}, config, {\n        data: data.datasets,\n        paddingTop: paddingTop,\n        paddingRight: paddingRight,\n        onDataPointClick: onDataPointClick\n      }))), React.createElement(G, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        }\n      }, decorator && decorator(_objectSpread({}, config, {\n        data: data.datasets,\n        paddingTop: paddingTop,\n        paddingRight: paddingRight\n      }))))));\n    }\n  }]);\n\n  return LineChart;\n}(AbstractChart);\n\nexport default LineChart;","map":{"version":3,"sources":["D:/react project/homiApp/homi/node_modules/react-native-chart-kit/src/line-chart/line-chart.js"],"names":["React","Svg","Circle","Polygon","Polyline","Path","Rect","G","AbstractChart","LegendItem","LineChart","getColor","dataset","opacity","color","props","chartConfig","getStrokeWidth","strokeWidth","getDatas","data","reduce","acc","item","getPropsForDots","x","i","getDotProps","propsForDots","r","renderDots","config","width","height","paddingTop","paddingRight","onDataPointClick","output","datas","baseHeight","calcBaseHeight","getDotColor","hidePointsAtIndex","renderDotContent","forEach","includes","cx","length","cy","calcHeight","onPress","index","value","y","push","Math","random","renderShadow","bezier","renderBezierShadow","map","d","join","renderLine","renderBezierLine","points","getBezierLinePoints","floor","yHeight","concat","slice","_","x_mid","y_mid","cp_x1","cp_x2","result","renderLegend","legendOffset","legend","datasets","baseLegendItemX","legendItem","getPropsForLabels","withShadow","withDots","withInnerLines","withOuterLines","withHorizontalLabels","withVerticalLabels","style","decorator","verticalLabelRotation","horizontalLabelRotation","formatYLabel","yLabel","formatXLabel","xLabel","segments","labels","borderRadius","margin","marginRight","paddingBottom","count","min","max","renderDefs","renderHorizontalLines","renderHorizontalLine","renderHorizontalLabels","decimalPlaces","renderVerticalLines","renderVerticalLine","renderVerticalLabels"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View } from \"react-native\";\nimport {\n  Svg,\n  Circle,\n  Polygon,\n  Polyline,\n  Path,\n  Rect,\n  G\n} from \"react-native-svg\";\nimport AbstractChart from \"../abstract-chart\";\nimport { LegendItem } from \"./legend-item\";\n\nclass LineChart extends AbstractChart {\n  getColor = (dataset, opacity) => {\n    return (dataset.color || this.props.chartConfig.color)(opacity);\n  };\n\n  getStrokeWidth = dataset => {\n    return dataset.strokeWidth || this.props.chartConfig.strokeWidth || 3;\n  };\n\n  getDatas = data =>\n    data.reduce((acc, item) => (item.data ? [...acc, ...item.data] : acc), []);\n\n  getPropsForDots = (x, i) => {\n    const { getDotProps, chartConfig = {} } = this.props;\n    if (typeof getDotProps === \"function\") {\n      return getDotProps(x, i);\n    }\n    const { propsForDots = {} } = chartConfig;\n    return { r: \"4\", ...propsForDots };\n  };\n  renderDots = config => {\n    const {\n      data,\n      width,\n      height,\n      paddingTop,\n      paddingRight,\n      onDataPointClick\n    } = config;\n    const output = [];\n    const datas = this.getDatas(data);\n    const baseHeight = this.calcBaseHeight(datas, height);\n    const {\n      getDotColor,\n      hidePointsAtIndex = [],\n      renderDotContent = () => {\n        return null;\n      }\n    } = this.props;\n    data.forEach(dataset => {\n      dataset.data.forEach((x, i) => {\n        if (hidePointsAtIndex.includes(i)) {\n          return;\n        }\n        const cx =\n          paddingRight + (i * (width - paddingRight)) / dataset.data.length;\n        const cy =\n          ((baseHeight - this.calcHeight(x, datas, height)) / 4) * 3 +\n          paddingTop;\n        const onPress = () => {\n          if (!onDataPointClick || hidePointsAtIndex.includes(i)) {\n            return;\n          }\n\n          onDataPointClick({\n            index: i,\n            value: x,\n            dataset,\n            x: cx,\n            y: cy,\n            getColor: opacity => this.getColor(dataset, opacity)\n          });\n        };\n        output.push(\n          <Circle\n            key={Math.random()}\n            cx={cx}\n            cy={cy}\n            fill={\n              typeof getDotColor === \"function\"\n                ? getDotColor(x, i)\n                : this.getColor(dataset, 0.9)\n            }\n            onPress={onPress}\n            {...this.getPropsForDots(x, i)}\n          />,\n          <Circle\n            key={Math.random()}\n            cx={cx}\n            cy={cy}\n            r=\"14\"\n            fill=\"#fff\"\n            fillOpacity={0}\n            onPress={onPress}\n          />,\n          renderDotContent({ x: cx, y: cy, index: i })\n        );\n      });\n    });\n    return output;\n  };\n\n  renderShadow = config => {\n    if (this.props.bezier) {\n      return this.renderBezierShadow(config);\n    }\n\n    const { data, width, height, paddingRight, paddingTop } = config;\n    const datas = this.getDatas(data);\n    const baseHeight = this.calcBaseHeight(datas, height);\n    return config.data.map((dataset, index) => {\n      return (\n        <Polygon\n          key={index}\n          points={\n            dataset.data\n              .map((d, i) => {\n                const x =\n                  paddingRight +\n                  (i * (width - paddingRight)) / dataset.data.length;\n                const y =\n                  ((baseHeight - this.calcHeight(d, datas, height)) / 4) * 3 +\n                  paddingTop;\n                return `${x},${y}`;\n              })\n              .join(\" \") +\n            ` ${paddingRight +\n              ((width - paddingRight) / dataset.data.length) *\n                (dataset.data.length - 1)},${(height / 4) * 3 +\n              paddingTop} ${paddingRight},${(height / 4) * 3 + paddingTop}`\n          }\n          fill=\"url(#fillShadowGradient)\"\n          strokeWidth={0}\n        />\n      );\n    });\n  };\n\n  renderLine = config => {\n    if (this.props.bezier) {\n      return this.renderBezierLine(config);\n    }\n\n    const { width, height, paddingRight, paddingTop, data } = config;\n    const output = [];\n    const datas = this.getDatas(data);\n    const baseHeight = this.calcBaseHeight(datas, height);\n    data.forEach((dataset, index) => {\n      const points = dataset.data.map((d, i) => {\n        const x =\n          (i * (width - paddingRight)) / dataset.data.length + paddingRight;\n        const y =\n          ((baseHeight - this.calcHeight(d, datas, height)) / 4) * 3 +\n          paddingTop;\n        return `${x},${y}`;\n      });\n\n      output.push(\n        <Polyline\n          key={index}\n          points={points.join(\" \")}\n          fill=\"none\"\n          stroke={this.getColor(dataset, 0.2)}\n          strokeWidth={this.getStrokeWidth(dataset)}\n        />\n      );\n    });\n\n    return output;\n  };\n\n  getBezierLinePoints = (dataset, config) => {\n    const { width, height, paddingRight, paddingTop, data } = config;\n    if (dataset.data.length === 0) {\n      return \"M0,0\";\n    }\n\n    const datas = this.getDatas(data);\n    const x = i =>\n      Math.floor(\n        paddingRight + (i * (width - paddingRight)) / dataset.data.length\n      );\n    const baseHeight = this.calcBaseHeight(datas, height);\n    const y = i => {\n      const yHeight = this.calcHeight(dataset.data[i], datas, height);\n      return Math.floor(((baseHeight - yHeight) / 4) * 3 + paddingTop);\n    };\n\n    return [`M${x(0)},${y(0)}`]\n      .concat(\n        dataset.data.slice(0, -1).map((_, i) => {\n          const x_mid = (x(i) + x(i + 1)) / 2;\n          const y_mid = (y(i) + y(i + 1)) / 2;\n          const cp_x1 = (x_mid + x(i)) / 2;\n          const cp_x2 = (x_mid + x(i + 1)) / 2;\n          return (\n            `Q ${cp_x1}, ${y(i)}, ${x_mid}, ${y_mid}` +\n            ` Q ${cp_x2}, ${y(i + 1)}, ${x(i + 1)}, ${y(i + 1)}`\n          );\n        })\n      )\n      .join(\" \");\n  };\n\n  renderBezierLine = config => {\n    return config.data.map((dataset, index) => {\n      const result = this.getBezierLinePoints(dataset, config);\n      return (\n        <Path\n          key={index}\n          d={result}\n          fill=\"none\"\n          stroke={this.getColor(dataset, 0.2)}\n          strokeWidth={this.getStrokeWidth(dataset)}\n        />\n      );\n    });\n  };\n\n  renderBezierShadow = config => {\n    const { width, height, paddingRight, paddingTop, data } = config;\n    return data.map((dataset, index) => {\n      const d =\n        this.getBezierLinePoints(dataset, config) +\n        ` L${paddingRight +\n          ((width - paddingRight) / dataset.data.length) *\n            (dataset.data.length - 1)},${(height / 4) * 3 +\n          paddingTop} L${paddingRight},${(height / 4) * 3 + paddingTop} Z`;\n      return (\n        <Path\n          key={index}\n          d={d}\n          fill=\"url(#fillShadowGradient)\"\n          strokeWidth={0}\n        />\n      );\n    });\n  };\n\n  renderLegend = (width, legendOffset) => {\n    const { legend, datasets } = this.props.data;\n    const baseLegendItemX = width / (legend.length + 1);\n\n    return legend.map((legendItem, i) => (\n      <G key={Math.random()}>\n        <LegendItem\n          index={i}\n          iconColor={this.getColor(datasets[i], 0.9)}\n          baseLegendItemX={baseLegendItemX}\n          legendText={legendItem}\n          labelProps={{ ...this.getPropsForLabels() }}\n          legendOffset={legendOffset}\n        />\n      </G>\n    ));\n  };\n\n  render() {\n    const {\n      width,\n      height,\n      data,\n      withShadow = true,\n      withDots = true,\n      withInnerLines = true,\n      withOuterLines = true,\n      withHorizontalLabels = true,\n      withVerticalLabels = true,\n      style = {},\n      decorator,\n      onDataPointClick,\n      verticalLabelRotation = 0,\n      horizontalLabelRotation = 0,\n      formatYLabel = yLabel => yLabel,\n      formatXLabel = xLabel => xLabel,\n      segments\n    } = this.props;\n    const { labels = [] } = data;\n    const {\n      borderRadius = 0,\n      paddingTop = 16,\n      paddingRight = 64,\n      margin = 0,\n      marginRight = 0,\n      paddingBottom = 0\n    } = style;\n\n    const config = {\n      width,\n      height,\n      verticalLabelRotation,\n      horizontalLabelRotation\n    };\n\n    const datas = this.getDatas(data.datasets);\n\n    let count = Math.min(...datas) === Math.max(...datas) ? 1 : 4;\n    if (segments) {\n      count = segments;\n    }\n\n    const legendOffset = this.props.data.legend ? height * 0.15 : 0;\n    return (\n      <View style={style}>\n        <Svg\n          height={height + paddingBottom + legendOffset}\n          width={width - margin * 2 - marginRight}\n        >\n          <Rect\n            width=\"100%\"\n            height={height + legendOffset}\n            rx={borderRadius}\n            ry={borderRadius}\n            fill=\"url(#backgroundGradient)\"\n          />\n          {this.props.data.legend &&\n            this.renderLegend(config.width, legendOffset)}\n          <G x=\"0\" y={legendOffset}>\n            {this.renderDefs({\n              ...config,\n              ...this.props.chartConfig\n            })}\n            <G>\n              {withInnerLines\n                ? this.renderHorizontalLines({\n                    ...config,\n                    count: count,\n                    paddingTop,\n                    paddingRight\n                  })\n                : withOuterLines\n                ? this.renderHorizontalLine({\n                    ...config,\n                    paddingTop,\n                    paddingRight\n                  })\n                : null}\n            </G>\n            <G>\n              {withHorizontalLabels\n                ? this.renderHorizontalLabels({\n                    ...config,\n                    count: count,\n                    data: datas,\n                    paddingTop,\n                    paddingRight,\n                    formatYLabel,\n                    decimalPlaces: this.props.chartConfig.decimalPlaces\n                  })\n                : null}\n            </G>\n            <G>\n              {withInnerLines\n                ? this.renderVerticalLines({\n                    ...config,\n                    data: data.datasets[0].data,\n                    paddingTop,\n                    paddingRight\n                  })\n                : withOuterLines\n                ? this.renderVerticalLine({\n                    ...config,\n                    paddingTop,\n                    paddingRight\n                  })\n                : null}\n            </G>\n            <G>\n              {withVerticalLabels\n                ? this.renderVerticalLabels({\n                    ...config,\n                    labels,\n                    paddingRight,\n                    paddingTop,\n                    formatXLabel\n                  })\n                : null}\n            </G>\n            <G>\n              {this.renderLine({\n                ...config,\n                paddingRight,\n                paddingTop,\n                data: data.datasets\n              })}\n            </G>\n            <G>\n              {withShadow &&\n                this.renderShadow({\n                  ...config,\n                  data: data.datasets,\n                  paddingRight,\n                  paddingTop\n                })}\n            </G>\n            <G>\n              {withDots &&\n                this.renderDots({\n                  ...config,\n                  data: data.datasets,\n                  paddingTop,\n                  paddingRight,\n                  onDataPointClick\n                })}\n            </G>\n            <G>\n              {decorator &&\n                decorator({\n                  ...config,\n                  data: data.datasets,\n                  paddingTop,\n                  paddingRight\n                })}\n            </G>\n          </G>\n        </Svg>\n      </View>\n    );\n  }\n}\n\nexport default LineChart;\n"]},"metadata":{},"sourceType":"module"}