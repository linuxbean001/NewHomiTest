{"ast":null,"code":"import ENV from \"../environment\";\nvar apartment1 = 'MLPCC';\nvar apartment2 = 'MLPDT';\nvar smallHome1 = 'MLP1B';\nvar smallHome2 = 'MLP2B';\nvar largeHome1 = 'MLP3B';\nvar largeHome2 = 'MLP4B';\nvar largeHome3 = 'MLP5B';\nvar mobileHome = 'MLPSF';\nvar APIKEY = ENV().quandlApiKey;\n\nvar formatDates = function formatDates() {\n  var today = new Date().toISOString().split('T')[0];\n  var startDate = Number(new Date().toString().split(' ')[3]) - 2 + \"-12-31\";\n  return [startDate, today];\n};\n\nvar QuandlURLGenerator = function QuandlURLGenerator(homeType, zipCode, bedrooms) {\n  switch (homeType) {\n    case 'apartment':\n      if (bedrooms <= 1) return \"https://www.quandl.com/api/v3/datasets/ZILLOW/Z\" + zipCode + \"_\" + apartment1 + \"?start_date=\" + formatDates()[0] + \"&end_date=\" + formatDates()[1] + \"&api_key=\" + APIKEY;else return \"https://www.quandl.com/api/v3/datasets/ZILLOW/Z\" + zipCode + \"_\" + apartment2 + \"?start_date=\" + formatDates()[0] + \"&end_date=\" + formatDates()[1] + \"&api_key=\" + APIKEY;\n\n    case 'largeHome':\n      if (bedrooms <= 3) return \"https://www.quandl.com/api/v3/datasets/ZILLOW/Z\" + zipCode + \"_\" + largeHome1 + \"?start_date=\" + formatDates()[0] + \"&end_date=\" + formatDates()[1] + \"&api_key=\" + APIKEY;else if (bedrooms == 4) return \"https://www.quandl.com/api/v3/datasets/ZILLOW/Z\" + zipCode + \"_\" + largeHome2 + \"?start_date=\" + formatDates()[0] + \"&end_date=\" + formatDates()[1] + \"&api_key=\" + APIKEY;else return \"https://www.quandl.com/api/v3/datasets/ZILLOW/Z\" + zipCode + \"_\" + largeHome3 + \"?start_date=\" + formatDates()[0] + \"&end_date=\" + formatDates()[1] + \"&api_key=\" + APIKEY;\n\n    case 'mobileHome':\n      return [\"https://www.quandl.com/api/v3/datasets/ZILLOW/Z\" + zipCode + \"_\" + mobileHome + \"?start_date=\" + formatDates()[0] + \"&end_date=\" + formatDates()[1] + \"&api_key=\" + APIKEY];\n\n    case 'smallHome':\n      if (bedrooms <= 1) return \"https://www.quandl.com/api/v3/datasets/ZILLOW/Z\" + zipCode + \"_\" + smallHome1 + \"?start_date=\" + formatDates()[0] + \"&end_date=\" + formatDates()[1] + \"&api_key=\" + APIKEY;else return \"https://www.quandl.com/api/v3/datasets/ZILLOW/Z\" + zipCode + \"_\" + smallHome2 + \"?start_date=\" + formatDates()[0] + \"&end_date=\" + formatDates()[1] + \"&api_key=\" + APIKEY;\n  }\n};\n\nexport default QuandlURLGenerator;","map":{"version":3,"sources":["D:/react project/homiApp/homi/utils/quandlpricefetcher.js"],"names":["ENV","apartment1","apartment2","smallHome1","smallHome2","largeHome1","largeHome2","largeHome3","mobileHome","APIKEY","quandlApiKey","formatDates","today","Date","toISOString","split","startDate","Number","toString","QuandlURLGenerator","homeType","zipCode","bedrooms"],"mappings":"AAAA,OAAOA,GAAP;AAQA,IAAMC,UAAU,GAAG,OAAnB;AACA,IAAMC,UAAU,GAAG,OAAnB;AAEA,IAAMC,UAAU,GAAG,OAAnB;AACA,IAAMC,UAAU,GAAG,OAAnB;AAEA,IAAMC,UAAU,GAAG,OAAnB;AACA,IAAMC,UAAU,GAAG,OAAnB;AACA,IAAMC,UAAU,GAAG,OAAnB;AAEA,IAAMC,UAAU,GAAG,OAAnB;AAEA,IAAMC,MAAM,GAAGT,GAAG,GAAGU,YAArB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,MAAMC,KAAK,GAAG,IAAIC,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAd;AACA,MAAMC,SAAS,GAAMC,MAAM,CAAC,IAAIJ,IAAJ,GAAWK,QAAX,GAAsBH,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAD,CAAN,GAA4C,CAAlD,WAAf;AACA,SAAO,CAACC,SAAD,EAAYJ,KAAZ,CAAP;AACD,CAJD;;AAMA,IAAMO,kBAAkB,GAAI,SAAtBA,kBAAsB,CAACC,QAAD,EAAWC,OAAX,EAAoBC,QAApB,EAAiC;AAC3D,UAAQF,QAAR;AACE,SAAK,WAAL;AACE,UAAIE,QAAQ,IAAI,CAAhB,EAAmB,2DAAyDD,OAAzD,SAAoEpB,UAApE,oBAA6FU,WAAW,GAAG,CAAH,CAAxG,kBAA0HA,WAAW,GAAG,CAAH,CAArI,iBAAsJF,MAAtJ,CAAnB,KACK,2DAAyDY,OAAzD,SAAoEnB,UAApE,oBAA6FS,WAAW,GAAG,CAAH,CAAxG,kBAA0HA,WAAW,GAAG,CAAH,CAArI,iBAAsJF,MAAtJ;;AACP,SAAK,WAAL;AACE,UAAIa,QAAQ,IAAI,CAAhB,EAAmB,2DAAyDD,OAAzD,SAAoEhB,UAApE,oBAA6FM,WAAW,GAAG,CAAH,CAAxG,kBAA0HA,WAAW,GAAG,CAAH,CAArI,iBAAsJF,MAAtJ,CAAnB,KACK,IAAIa,QAAQ,IAAI,CAAhB,EAAmB,2DAAyDD,OAAzD,SAAoEf,UAApE,oBAA6FK,WAAW,GAAG,CAAH,CAAxG,kBAA0HA,WAAW,GAAG,CAAH,CAArI,iBAAsJF,MAAtJ,CAAnB,KACA,2DAAyDY,OAAzD,SAAoEd,UAApE,oBAA6FI,WAAW,GAAG,CAAH,CAAxG,kBAA0HA,WAAW,GAAG,CAAH,CAArI,iBAAsJF,MAAtJ;;AACP,SAAK,YAAL;AACE,aAAO,qDAAmDY,OAAnD,SAA8Db,UAA9D,oBAAuFG,WAAW,GAAG,CAAH,CAAlG,kBAAoHA,WAAW,GAAG,CAAH,CAA/H,iBAAgJF,MAAhJ,CAAP;;AACF,SAAK,WAAL;AACE,UAAIa,QAAQ,IAAI,CAAhB,EAAmB,2DAAyDD,OAAzD,SAAoElB,UAApE,oBAA6FQ,WAAW,GAAG,CAAH,CAAxG,kBAA0HA,WAAW,GAAG,CAAH,CAArI,iBAAsJF,MAAtJ,CAAnB,KACK,2DAAyDY,OAAzD,SAAoEjB,UAApE,oBAA6FO,WAAW,GAAG,CAAH,CAAxG,kBAA0HA,WAAW,GAAG,CAAH,CAArI,iBAAsJF,MAAtJ;AAZT;AAcD,CAfD;;AAiBA,eAAeU,kBAAf","sourcesContent":["import ENV from '../environment';\r\n\r\n// Code reference\r\n// https://s3.amazonaws.com/quandl-production-static/zillow/indicators.csv\r\n\r\n// Documentation\r\n// https://www.quandl.com/data/ZILLOW-Zillow-Real-Estate-Research/documentation\r\n\r\nconst apartment1 = 'MLPCC'; // Median Listing Price - Condo/Co-op\r\nconst apartment2 = 'MLPDT'; // Median Listing Price - Duplex/Triplex\r\n\r\nconst smallHome1 = 'MLP1B'; // Median Listing Price Per Square Foot - One Bedroom\r\nconst smallHome2 = 'MLP2B'; // Median Listing Price Per Square Foot - Two Bedrooms\r\n\r\nconst largeHome1 = 'MLP3B'; // Median Listing Price Per Square Foot - Three Bedrooms\r\nconst largeHome2 = 'MLP4B'; // Median Listing Price Per Square Foot - Four Bedrooms\r\nconst largeHome3 = 'MLP5B'; // Median Listing Price - Five Or More Bedrooms\r\n\r\nconst mobileHome = 'MLPSF'; // Median Listing Price Per Square Foot - Single-Family Residence\r\n\r\nconst APIKEY = ENV().quandlApiKey;\r\n\r\nconst formatDates = () => {\r\n  const today = new Date().toISOString().split('T')[0];\r\n  const startDate = `${Number(new Date().toString().split(' ')[3])-2}-12-31`;\r\n  return [startDate, today];\r\n};\r\n\r\nconst QuandlURLGenerator =  (homeType, zipCode, bedrooms) => {\r\n  switch (homeType) {\r\n    case 'apartment':\r\n      if (bedrooms <= 1) return `https://www.quandl.com/api/v3/datasets/ZILLOW/Z${zipCode}_${apartment1}?start_date=${formatDates()[0]}&end_date=${formatDates()[1]}&api_key=${APIKEY}`;\r\n      else return `https://www.quandl.com/api/v3/datasets/ZILLOW/Z${zipCode}_${apartment2}?start_date=${formatDates()[0]}&end_date=${formatDates()[1]}&api_key=${APIKEY}`;\r\n    case 'largeHome':\r\n      if (bedrooms <= 3) return `https://www.quandl.com/api/v3/datasets/ZILLOW/Z${zipCode}_${largeHome1}?start_date=${formatDates()[0]}&end_date=${formatDates()[1]}&api_key=${APIKEY}`;\r\n      else if (bedrooms == 4) return `https://www.quandl.com/api/v3/datasets/ZILLOW/Z${zipCode}_${largeHome2}?start_date=${formatDates()[0]}&end_date=${formatDates()[1]}&api_key=${APIKEY}`;\r\n      else return `https://www.quandl.com/api/v3/datasets/ZILLOW/Z${zipCode}_${largeHome3}?start_date=${formatDates()[0]}&end_date=${formatDates()[1]}&api_key=${APIKEY}`;\r\n    case 'mobileHome':\r\n      return([`https://www.quandl.com/api/v3/datasets/ZILLOW/Z${zipCode}_${mobileHome}?start_date=${formatDates()[0]}&end_date=${formatDates()[1]}&api_key=${APIKEY}`]);\r\n    case 'smallHome':\r\n      if (bedrooms <= 1) return `https://www.quandl.com/api/v3/datasets/ZILLOW/Z${zipCode}_${smallHome1}?start_date=${formatDates()[0]}&end_date=${formatDates()[1]}&api_key=${APIKEY}`;\r\n      else return `https://www.quandl.com/api/v3/datasets/ZILLOW/Z${zipCode}_${smallHome2}?start_date=${formatDates()[0]}&end_date=${formatDates()[1]}&api_key=${APIKEY}`;\r\n  }\r\n};\r\n\r\nexport default QuandlURLGenerator;"]},"metadata":{},"sourceType":"module"}