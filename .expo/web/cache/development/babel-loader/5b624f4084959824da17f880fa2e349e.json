{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"D:\\\\react project\\\\homiApp\\\\homi\\\\containers\\\\Onboarding\\\\ExtraInformation\\\\YourSavings.js\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport DefaultHeader from \"../../../components/Header\";\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport bankingHolder from \"../../../assets/image/banking-holder.png\";\nimport PlaidAuthenticator from 'react-native-plaid-link';\nimport firebase from 'firebase';\nimport '@firebase/firestore';\n\nvar YourSavingsScreen = function (_React$Component) {\n  _inherits(YourSavingsScreen, _React$Component);\n\n  function YourSavingsScreen(_props) {\n    var _this;\n\n    _classCallCheck(this, YourSavingsScreen);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(YourSavingsScreen).call(this, _props));\n    _this._isMounted = false;\n\n    _this.renderButton = function () {\n      return React.createElement(ScrollView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        }\n      }, React.createElement(Text, {\n        style: styles.HeaderText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        }\n      }, \"Step 4: Your Savings\"), React.createElement(Text, {\n        style: styles.SubHeaderText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        }\n      }, \"Lastly, to create your plan we need to get an idea of your savings. \"), React.createElement(TouchableOpacity, {\n        style: styles.Rectangle,\n        onPress: function onPress() {\n          return _this.setState({\n            status: ''\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        }\n      }, React.createElement(Text, {\n        style: styles.Next,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        }\n      }, \"Next\")));\n    };\n\n    _this.onLoadStart = function (props) {\n      console.log('onLoadStart', props);\n    };\n\n    _this.onLoad = function (props) {\n      console.log('onLoad', props);\n    };\n\n    _this.onLoadEnd = function (props) {\n      console.log('onLoadEnd', props);\n    };\n\n    _this.submit = function () {\n      _this.setState({\n        submitting: true\n      });\n\n      console.log('SAVING PLAID INFORMATION TO FIREBASE');\n      firebase.firestore().collection('users').doc(firebase.auth().currentUser.uid).update({\n        plaidData: _this.state.data\n      }).then(function () {\n        if (_this._isMounted) _this.setState({\n          submitting: false\n        });\n\n        _this.props.navigation.navigate('LenderDetailsScreen');\n      }).catch(function (error) {\n        console.group();\n        console.log('Saving Plaid information error');\n        console.log(error);\n        console.log(error.code);\n        console.log(error.message);\n        console.groupEnd();\n        Alert.alert(error.message);\n        if (_this._isMounted) _this.setState({\n          submitting: false\n        });\n      }).finally(function () {});\n    };\n\n    _this.onMessage = function (data) {\n      _this.setState({\n        data: data,\n        status: data.action.substr(data.action.lastIndexOf(':') + 1).toUpperCase()\n      });\n    };\n\n    _this.state = {\n      selectedOption: '',\n      data: {},\n      status: 'LOGIN_BUTTON',\n      submitting: false\n    };\n    return _this;\n  }\n\n  _createClass(YourSavingsScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"renderLogin\",\n    value: function renderLogin() {\n      return React.createElement(PlaidAuthenticator, {\n        onMessage: this.onMessage,\n        publicKey: \"eecc6d6382543dbee6478afbc5879b\",\n        env: \"sandbox\",\n        product: \"auth,transactions\",\n        onLoad: this.onLoad,\n        onLoadStart: this.onLoadStart,\n        onLoadEnd: this.onLoadEnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        }\n      });\n    }\n  }, {\n    key: \"renderDetails\",\n    value: function renderDetails() {\n      return React.createElement(ScrollView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        }\n      }, React.createElement(Text, {\n        style: styles.HeaderText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        }\n      }, \"Step 4: Your Savings\"), React.createElement(Text, {\n        style: styles.SubHeaderText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        }\n      }, \"Lastly, to create your plan we need to get an idea of your savings. \"), React.createElement(View, {\n        style: styles.ResponseView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        }\n      }, React.createElement(Text, {\n        style: styles.paragraph,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        }\n      }, \"Institution\"), React.createElement(Text, {\n        style: styles.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        }\n      }, this.state.data.metadata.institution.name), React.createElement(Text, {\n        style: styles.paragraph,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        }\n      }, \"Institution ID\"), React.createElement(Text, {\n        style: styles.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        }\n      }, this.state.data.metadata.institution.institution_id), React.createElement(Text, {\n        style: styles.paragraph,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        }\n      }, \"Token\"), React.createElement(Text, {\n        style: styles.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        }\n      }, this.state.data.metadata.public_token)), React.createElement(TouchableOpacity, {\n        style: styles.Rectangle,\n        onPress: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        }\n      }, React.createElement(Text, {\n        style: styles.Next,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        }\n      }, \"Lets Go\")), this.state.submitting && React.createElement(View, {\n        style: styles.loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        }\n      })));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.status);\n\n      switch (this.state.status) {\n        case 'CONNECTED':\n          console.log('connected');\n          return this.renderDetails();\n\n        case 'LOGIN_BUTTON':\n        case 'EXIT':\n          return this.renderButton();\n\n        default:\n          return this.renderLogin();\n      }\n    }\n  }]);\n\n  return YourSavingsScreen;\n}(React.Component);\n\nYourSavingsScreen.navigationOptions = {\n  header: function header() {\n    return React.createElement(DefaultHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      }\n    });\n  }\n};\nexport { YourSavingsScreen as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingLeft: 30,\n    paddingRight: 30,\n    paddingTop: 15,\n    backgroundColor: '#fff'\n  },\n  TopImage: {\n    marginBottom: 15,\n    marginTop: 30\n  },\n  HeaderText: {\n    color: '#232528',\n    fontSize: 24,\n    fontWeight: '600',\n    letterSpacing: -0.39,\n    lineHeight: 33,\n    fontFamily: \"open-sans-SemiBold\"\n  },\n  SubHeaderText: {\n    color: '#232528',\n    fontSize: 16,\n    letterSpacing: -0.26,\n    lineHeight: 22,\n    fontFamily: \"open-sans-Regular\",\n    marginTop: 15\n  },\n  Rectangle: {\n    height: 61,\n    borderWidth: 1,\n    borderColor: '#0DBBF4',\n    borderRadius: 30.5,\n    textAlign: 'center',\n    marginTop: 30,\n    marginBottom: 30,\n    backgroundColor: '#0DBBF4'\n  },\n  Next: {\n    color: '#fff',\n    fontFamily: \"open-sans-bold\",\n    fontSize: 16,\n    fontWeight: 'bold',\n    letterSpacing: -0.26,\n    lineHeight: 55,\n    textAlign: 'center'\n  },\n  ResponseView: {\n    marginTop: 30,\n    marginBottom: 30\n  },\n  paragraph: {\n    color: '#232528',\n    fontSize: 16,\n    fontWeight: '600',\n    letterSpacing: -0.39,\n    lineHeight: 33,\n    fontFamily: \"open-sans-SemiBold\"\n  }\n});","map":{"version":3,"sources":["D:/react project/homiApp/homi/containers/Onboarding/ExtraInformation/YourSavings.js"],"names":["React","DefaultHeader","TouchableOpacity","bankingHolder","PlaidAuthenticator","firebase","YourSavingsScreen","props","_isMounted","renderButton","styles","container","HeaderText","SubHeaderText","Rectangle","setState","status","Next","onLoadStart","console","log","onLoad","onLoadEnd","submit","submitting","firestore","collection","doc","auth","currentUser","uid","update","plaidData","state","data","then","navigation","navigate","catch","error","group","code","message","groupEnd","Alert","alert","finally","onMessage","action","substr","lastIndexOf","toUpperCase","selectedOption","ResponseView","paragraph","value","metadata","institution","name","institution_id","public_token","loading","renderDetails","renderLogin","Component","navigationOptions","header","StyleSheet","create","flex","paddingLeft","paddingRight","paddingTop","backgroundColor","TopImage","marginBottom","marginTop","color","fontSize","fontWeight","letterSpacing","lineHeight","fontFamily","height","borderWidth","borderColor","borderRadius","textAlign"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;AAEA,OAAOC,aAAP;AACA,SAASC,gBAAT,QAAiC,8BAAjC;AACA,OAAOC,aAAP;AACA,OAAOC,kBAAP,MAA+B,yBAA/B;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAO,qBAAP;;IAEqBC,iB;;;AAGnB,6BAAYC,MAAZ,EAAmB;AAAA;;AAAA;;AACjB,2FAAMA,MAAN;AADiB,UAFnBC,UAEmB,GAFN,KAEM;;AAAA,UAsBnBC,YAtBmB,GAsBJ,YAAM;AACnB,aAAO,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAEC,MAAM,CAACC,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,SACP,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA,gCADO,EAEP,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACG,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA,gFAFO,EAGP,oBAAC,gBAAD;AAAmB,QAAA,KAAK,EAAEH,MAAM,CAACI,SAAjC;AAA6C,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAKC,QAAL,CAAc;AAACC,YAAAA,MAAM,EAAE;AAAT,WAAd,CAAN;AAAA,SAAtD;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEN,MAAM,CAACO,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAHO,CAAP;AAYD,KAnCkB;;AAAA,UAqCnBC,WArCmB,GAqCL,UAAAX,KAAK,EAAI;AACrBY,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2Bb,KAA3B;AACD,KAvCkB;;AAAA,UAyCnBc,MAzCmB,GAyCV,UAAAd,KAAK,EAAI;AAChBY,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBb,KAAtB;AACD,KA3CkB;;AAAA,UA6CnBe,SA7CmB,GA6CP,UAAAf,KAAK,EAAI;AACnBY,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBb,KAAzB;AACD,KA/CkB;;AAAA,UA+FnBgB,MA/FmB,GA+FV,YAAM;AACb,YAAKR,QAAL,CAAc;AAACS,QAAAA,UAAU,EAAE;AAAb,OAAd;;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACAf,MAAAA,QAAQ,CAACoB,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,EAAyCC,GAAzC,CAA6CtB,QAAQ,CAACuB,IAAT,GAAgBC,WAAhB,CAA4BC,GAAzE,EAA8EC,MAA9E,CAAqF;AACnFC,QAAAA,SAAS,EAAE,MAAKC,KAAL,CAAWC;AAD6D,OAArF,EAGCC,IAHD,CAGM,YAAM;AACV,YAAG,MAAK3B,UAAR,EAAoB,MAAKO,QAAL,CAAc;AAACS,UAAAA,UAAU,EAAE;AAAb,SAAd;;AACpB,cAAKjB,KAAL,CAAW6B,UAAX,CAAsBC,QAAtB,CAA+B,qBAA/B;AACD,OAND,EAOCC,KAPD,CAOO,UAAAC,KAAK,EAAI;AAEdpB,QAAAA,OAAO,CAACqB,KAAR;AACArB,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYmB,KAAZ;AACApB,QAAAA,OAAO,CAACC,GAAR,CAAYmB,KAAK,CAACE,IAAlB;AACAtB,QAAAA,OAAO,CAACC,GAAR,CAAYmB,KAAK,CAACG,OAAlB;AACAvB,QAAAA,OAAO,CAACwB,QAAR;AACAC,QAAAA,KAAK,CAACC,KAAN,CAAYN,KAAK,CAACG,OAAlB;AACA,YAAG,MAAKlC,UAAR,EAAoB,MAAKO,QAAL,CAAc;AAACS,UAAAA,UAAU,EAAE;AAAb,SAAd;AACrB,OAjBD,EAkBCsB,OAlBD,CAkBS,YAAM,CACd,CAnBD;AAqBD,KAvHkB;;AAAA,UAyHnBC,SAzHmB,GAyHP,UAAAb,IAAI,EAAI;AAClB,YAAKnB,QAAL,CAAc;AAAEmB,QAAAA,IAAI,EAAJA,IAAF;AAAQlB,QAAAA,MAAM,EAAEkB,IAAI,CAACc,MAAL,CAAYC,MAAZ,CAAmBf,IAAI,CAACc,MAAL,CAAYE,WAAZ,CAAwB,GAAxB,IAA+B,CAAlD,EAAqDC,WAArD;AAAhB,OAAd;AACD,KA3HkB;;AAEjB,UAAKlB,KAAL,GAAa;AACXmB,MAAAA,cAAc,EAAC,EADJ;AAEXlB,MAAAA,IAAI,EAAE,EAFK;AAGXlB,MAAAA,MAAM,EAAE,cAHG;AAIXQ,MAAAA,UAAU,EAAE;AAJD,KAAb;AAFiB;AAQlB;;;;wCAMmB;AAClB,WAAKhB,UAAL,GAAkB,IAAlB;AACD;;;2CAEsB;AACrB,WAAKA,UAAL,GAAkB,KAAlB;AACD;;;kCA6Ba;AACZ,aACE,oBAAC,kBAAD;AACE,QAAA,SAAS,EAAE,KAAKuC,SADlB;AAEE,QAAA,SAAS,EAAC,gCAFZ;AAGE,QAAA,GAAG,EAAC,SAHN;AAIE,QAAA,OAAO,EAAC,mBAJV;AAKE,QAAA,MAAM,EAAE,KAAK1B,MALf;AAME,QAAA,WAAW,EAAE,KAAKH,WANpB;AAOE,QAAA,SAAS,EAAE,KAAKI,SAPlB;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAWD;;;oCAEe;AACd,aAEH,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAEZ,MAAM,CAACC,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA,gCADH,EAEG,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACG,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA,gFAFH,EAGM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEH,MAAM,CAAC2C,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE3C,MAAM,CAAC4C,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA,uBADD,EAEC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE5C,MAAM,CAAC6C,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKtB,KAAL,CAAWC,IAAX,CAAgBsB,QAAhB,CAAyBC,WAAzB,CAAqCC,IADxC,CAFD,EAKC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEhD,MAAM,CAAC4C,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA,0BALD,EAMC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE5C,MAAM,CAAC6C,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKtB,KAAL,CAAWC,IAAX,CAAgBsB,QAAhB,CAAyBC,WAAzB,CAAqCE,cADxC,CAND,EASC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEjD,MAAM,CAAC4C,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA,iBATD,EAUC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE5C,MAAM,CAAC6C,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKtB,KAAL,CAAWC,IAAX,CAAgBsB,QAAhB,CAAyBI,YAD5B,CAVD,CAHN,EAiBG,oBAAC,gBAAD;AAAmB,QAAA,KAAK,EAAElD,MAAM,CAACI,SAAjC;AAA8C,QAAA,OAAO,EAAE,KAAKS,MAA5D;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEb,MAAM,CAACO,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CAjBH,EAoBI,KAAKgB,KAAL,CAAWT,UAAX,IACK,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEd,MAAM,CAACmD,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,iBAAD;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CArBT,CAFG;AA6BD;;;6BAkCQ;AACP1C,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKa,KAAL,CAAWjB,MAAvB;;AAEA,cAAO,KAAKiB,KAAL,CAAWjB,MAAlB;AACE,aAAK,WAAL;AACEG,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,iBAAO,KAAK0C,aAAL,EAAP;;AACF,aAAK,cAAL;AACA,aAAK,MAAL;AACE,iBAAO,KAAKrD,YAAL,EAAP;;AACF;AACE,iBAAO,KAAKsD,WAAL,EAAP;AARJ;AAUD;;;;EA/I4C/D,KAAK,CAACgE,S;;AAAhC1D,iB,CAaZ2D,iB,GAAoB;AACzBC,EAAAA,MAAM,EAAE;AAAA,WAAM,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA,MAAN;AAAA;AADiB,C;SAbR5D,iB;AAkJrB,IAAMI,MAAM,GAAGyD,UAAU,CAACC,MAAX,CAAkB;AAC/BzD,EAAAA,SAAS,EAAE;AACT0D,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,WAAW,EAAC,EAFH;AAGTC,IAAAA,YAAY,EAAC,EAHJ;AAITC,IAAAA,UAAU,EAAC,EAJF;AAKTC,IAAAA,eAAe,EAAC;AALP,GADoB;AAQ/BC,EAAAA,QAAQ,EAAC;AACPC,IAAAA,YAAY,EAAC,EADN;AAEPC,IAAAA,SAAS,EAAC;AAFH,GARsB;AAY/BhE,EAAAA,UAAU,EAAE;AACViE,IAAAA,KAAK,EAAE,SADG;AAEVC,IAAAA,QAAQ,EAAE,EAFA;AAGVC,IAAAA,UAAU,EAAE,KAHF;AAIVC,IAAAA,aAAa,EAAE,CAAC,IAJN;AAKVC,IAAAA,UAAU,EAAE,EALF;AAMVC,IAAAA,UAAU,EAAE;AANF,GAZmB;AAoB/BrE,EAAAA,aAAa,EAAE;AACXgE,IAAAA,KAAK,EAAE,SADI;AAEXC,IAAAA,QAAQ,EAAE,EAFC;AAGXE,IAAAA,aAAa,EAAE,CAAC,IAHL;AAIXC,IAAAA,UAAU,EAAE,EAJD;AAKXC,IAAAA,UAAU,EAAE,mBALD;AAMXN,IAAAA,SAAS,EAAC;AANC,GApBgB;AA4B/B9D,EAAAA,SAAS,EAAE;AACTqE,IAAAA,MAAM,EAAE,EADC;AAETC,IAAAA,WAAW,EAAE,CAFJ;AAGTC,IAAAA,WAAW,EAAE,SAHJ;AAITC,IAAAA,YAAY,EAAE,IAJL;AAKTC,IAAAA,SAAS,EAAE,QALF;AAMTX,IAAAA,SAAS,EAAC,EAND;AAOTD,IAAAA,YAAY,EAAC,EAPJ;AAQTF,IAAAA,eAAe,EAAE;AARR,GA5BoB;AAsC/BxD,EAAAA,IAAI,EAAE;AACJ4D,IAAAA,KAAK,EAAE,MADH;AAEJK,IAAAA,UAAU,EAAE,gBAFR;AAGJJ,IAAAA,QAAQ,EAAE,EAHN;AAIJC,IAAAA,UAAU,EAAE,MAJR;AAKJC,IAAAA,aAAa,EAAE,CAAC,IALZ;AAMJC,IAAAA,UAAU,EAAE,EANR;AAOJM,IAAAA,SAAS,EAAE;AAPP,GAtCyB;AAgD/BlC,EAAAA,YAAY,EAAC;AACRuB,IAAAA,SAAS,EAAC,EADF;AAERD,IAAAA,YAAY,EAAC;AAFL,GAhDkB;AAoD/BrB,EAAAA,SAAS,EAAC;AACRuB,IAAAA,KAAK,EAAE,SADC;AAERC,IAAAA,QAAQ,EAAE,EAFF;AAGRC,IAAAA,UAAU,EAAE,KAHJ;AAIRC,IAAAA,aAAa,EAAE,CAAC,IAJR;AAKRC,IAAAA,UAAU,EAAE,EALJ;AAMRC,IAAAA,UAAU,EAAE;AANJ;AApDqB,CAAlB,CAAf","sourcesContent":["import React from 'react';\r\nimport { StyleSheet, ScrollView, Text, View, Image , ActivityIndicator} from 'react-native';\r\nimport DefaultHeader from '../../../components/Header';\r\nimport { TouchableOpacity } from 'react-native-gesture-handler';\r\nimport bankingHolder from '../../../assets/image/banking-holder.png';\r\nimport PlaidAuthenticator from 'react-native-plaid-link';\r\nimport firebase from 'firebase';\r\nimport '@firebase/firestore';\r\n\r\nexport default class YourSavingsScreen extends React.Component {\r\n  _isMounted = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedOption:'',\r\n      data: {},\r\n      status: 'LOGIN_BUTTON',\r\n      submitting: false\r\n    };\r\n  }\r\n\r\n  static navigationOptions = { \r\n    header: () => <DefaultHeader />\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  renderButton = () => {\r\n    return <ScrollView style={styles.container}>\r\n    <Text style={styles.HeaderText}>Step 4: Your Savings</Text>\r\n    <Text style={styles.SubHeaderText}>Lastly, to create your plan we need to get an idea of your savings. </Text>\r\n    <TouchableOpacity  style={styles.Rectangle } onPress={() => this.setState({status: ''})} >\r\n      <Text style={styles.Next }>Next</Text>  \r\n    </TouchableOpacity>\r\n\r\n    {/* <TouchableOpacity  style={styles.Rectangle } onPress={() => this.props.navigation.navigate('LenderDetailsScreen')} >\r\n      <Text style={styles.Next }>Next</Text>  \r\n    </TouchableOpacity> */}\r\n    \r\n </ScrollView>\r\n  }\r\n\r\n  onLoadStart = props => {\r\n    console.log('onLoadStart', props);\r\n  };\r\n\r\n  onLoad = props => {\r\n    console.log('onLoad', props); \r\n  };\r\n\r\n  onLoadEnd = props => {\r\n    console.log('onLoadEnd', props);\r\n  };\r\n\r\n  renderLogin() {\r\n    return (\r\n      <PlaidAuthenticator\r\n        onMessage={this.onMessage}\r\n        publicKey=\"eecc6d6382543dbee6478afbc5879b\"\r\n        env=\"sandbox\"\r\n        product=\"auth,transactions\"\r\n        onLoad={this.onLoad}\r\n        onLoadStart={this.onLoadStart}\r\n        onLoadEnd={this.onLoadEnd}\r\n      />\r\n    );\r\n  } \r\n\r\n  renderDetails() {\r\n    return (\r\n\r\n <ScrollView style={styles.container}>\r\n    <Text style={styles.HeaderText}>Step 4: Your Savings</Text>\r\n    <Text style={styles.SubHeaderText}>Lastly, to create your plan we need to get an idea of your savings. </Text>\r\n       <View style={styles.ResponseView}>\r\n        <Text style={styles.paragraph}>Institution</Text>\r\n        <Text style={styles.value}>\r\n          {this.state.data.metadata.institution.name}\r\n        </Text>\r\n        <Text style={styles.paragraph}>Institution ID</Text>\r\n        <Text style={styles.value}>\r\n          {this.state.data.metadata.institution.institution_id} \r\n        </Text>\r\n        <Text style={styles.paragraph}>Token</Text>\r\n        <Text style={styles.value}>\r\n          {this.state.data.metadata.public_token}\r\n        </Text>\r\n        </View>\r\n    <TouchableOpacity  style={styles.Rectangle }  onPress={this.submit} >\r\n      <Text style={styles.Next }>Lets Go</Text>  \r\n    </TouchableOpacity>\r\n    {this.state.submitting &&\r\n          <View style={styles.loading}>\r\n            <ActivityIndicator size='large' />\r\n          </View>}\r\n </ScrollView>\r\n\r\n    );\r\n  }\r\n\r\n  submit = () => {\r\n    this.setState({submitting: true});\r\n    console.log('SAVING PLAID INFORMATION TO FIREBASE');\r\n    firebase.firestore().collection('users').doc(firebase.auth().currentUser.uid).update({\r\n      plaidData: this.state.data\r\n    })\r\n    .then(() => {\r\n      if(this._isMounted) this.setState({submitting: false});\r\n      this.props.navigation.navigate('LenderDetailsScreen');\r\n    })\r\n    .catch(error => {\r\n      // Handle Errors here.\r\n      console.group();\r\n      console.log('Saving Plaid information error');\r\n      console.log(error);\r\n      console.log(error.code);\r\n      console.log(error.message);\r\n      console.groupEnd();\r\n      Alert.alert(error.message);\r\n      if(this._isMounted) this.setState({submitting: false});\r\n    })\r\n    .finally(() => {\r\n    });\r\n\r\n  }\r\n\r\n  onMessage = data => {\r\n    this.setState({ data, status: data.action.substr(data.action.lastIndexOf(':') + 1).toUpperCase() });\r\n  };\r\n\r\n\r\n\r\n  render() {\r\n    console.log(this.state.status)\r\n\r\n    switch(this.state.status) {\r\n      case 'CONNECTED':\r\n        console.log('connected')\r\n        return this.renderDetails() \r\n      case 'LOGIN_BUTTON':\r\n      case 'EXIT':\r\n        return this.renderButton();\r\n      default:\r\n        return this.renderLogin();\r\n    }\r\n  } \r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    paddingLeft:30,\r\n    paddingRight:30,\r\n    paddingTop:15,\r\n    backgroundColor:'#fff'\r\n  },\r\n  TopImage:{ \r\n    marginBottom:15,\r\n    marginTop:30\r\n  },\r\n  HeaderText: {\r\n    color: '#232528',\t\r\n    fontSize: 24, \r\n    fontWeight: '600',\r\n    letterSpacing: -0.39,\r\n    lineHeight: 33,\r\n   \tfontFamily: \"open-sans-SemiBold\",\r\n  },\r\n  SubHeaderText: {\r\n      color: '#232528',\r\n      fontSize: 16,\r\n      letterSpacing: -0.26,\r\n      lineHeight: 22, \r\n      fontFamily: \"open-sans-Regular\",\r\n      marginTop:15\r\n  },\r\n  Rectangle: {\r\n    height: 61,\r\n    borderWidth: 1,\r\n    borderColor: '#0DBBF4',\r\n    borderRadius: 30.5,\r\n    textAlign: 'center',\r\n    marginTop:30,\r\n    marginBottom:30,\r\n    backgroundColor: '#0DBBF4'\r\n  },\r\n  Next: {\t\r\n    color: '#fff',\t\r\n    fontFamily: \"open-sans-bold\",\t\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    letterSpacing: -0.26,\r\n    lineHeight: 55,\r\n    textAlign: 'center',\r\n   \r\n  },\r\n  ResponseView:{\r\n       marginTop:30,\r\n       marginBottom:30\r\n  },\r\n  paragraph:{\r\n    color: '#232528',\t\r\n    fontSize: 16, \r\n    fontWeight: '600',\r\n    letterSpacing: -0.39,\r\n    lineHeight: 33,\r\n   \tfontFamily: \"open-sans-SemiBold\",\r\n  }\r\n\r\n});"]},"metadata":{},"sourceType":"module"}